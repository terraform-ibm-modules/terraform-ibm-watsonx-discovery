{
  "products": [
    {
      "name": "deploy-arch-ibm-watson-discovery",
      "label": "Cloud automation for Watson Discovery",
      "product_kind": "solution",
      "tags": [
        "ibm_created",
        "target_terraform",
        "terraform",
        "solution",
        "ai",
        "watson",
        "platform_engineering"
      ],
      "keywords": [
        "Watson Discovery",
        "discovery",
        "classifier",
        "cognitive-search",
        "IaC",
        "infrastructure as code",
        "terraform",
        "solution",
        "ai"
      ],
      "short_description": "Creates and configures an instance of IBM Watson Discovery",
      "long_description": "[IBM Watson Discovery](https://www.ibm.com/products/watson-discovery) is an intelligent document processing engine designed to extract valuable insights from complex business documents. With Discovery, you can visually train AI models to deeply understand your content — including text, tables, and images — uncovering business value that may be hidden within your enterprise data. In addition to Watson Discovery, this deployable architecture includes optional tools for key encryption, observability, and account resources to help you manage your Watson Discovery deployment.",
      "offering_docs_url": "https://github.com/terraform-ibm-modules/terraform-ibm-watsonx-discovery/blob/main/README.md",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-watsonx-discovery/main/images/watson-discovery.svg",
      "provider_name": "IBM",
      "features": [
        {
          "title": "Watson Discovery instance",
          "description": "Get started with Watson Discovery by creating and configuring an instance. [Learn more](https://cloud.ibm.com/docs/discovery-data?topic=discovery-data-about)."
        },
        {
          "title": "Sets up logging for the Watson Discovery instance",
          "description": "Optionally, you can deploy Cloud automation for Cloud Logs to route, alert, and visualize platform logs that are generated by your Watson Discovery instance."
        },
        {
          "title": "Sets up monitoring operational metrics for the Watson Discovery instance",
          "description": "Optionally, you can deploy Cloud automation for Cloud Monitoring to measure how users and applications interact with your Watson Discovery instance."
        },
        {
          "title": "Sets up activity tracking for the Watson Discovery instance",
          "description": "Optionally, you can deploy Cloud automation for Activity Tracker Event Routing to route and securely store auditing events that are related to your Watson Discovery instance. [Learn more](https://cloud.ibm.com/docs/discovery-data?topic=discovery-data-at_events)"
        }
      ],
      "support_details": "This product is in the community registry, support is handled through the [original repo](https://github.com/terraform-ibm-modules/terraform-ibm-watsonx-discovery). If you experience issues kindly open an issue [here](https://github.com/terraform-ibm-modules/terraform-ibm-watsonx-discovery/issues). Please note that this product is not currently supported through the IBM Cloud Support Center.",
      "flavors": [
        {
          "label": "Fully configurable",
          "name": "fully-configurable",
          "index": 1,
          "install_type": "fullstack",
          "working_directory": "solutions/fully-configurable",
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Viewer"
              ],
              "service_name": "Resource group only",
              "notes": "Viewer access is required in the resource group you want to provision in."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "discovery",
              "notes": "Required to create an instance of Watson Discovery."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "kms",
              "notes": "[Optional] Required to deploy Cloud automation for Key Protect, so you can use your own managed encryption keys."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "hs-crypto",
              "notes": "[Optional] Required if Hyper Protect Crypto Services is used in Cloud automation for Observability."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "atracker",
              "notes": "[Optional] Required to configure Activity Tracker Event Routing with Cloud automation for Observability."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "sysdig-monitor",
              "notes": "[Optional] Required to create an instance of Cloud Monitoring."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "logs",
              "notes": "[Optional] Required to create an instance of Cloud Logs."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "cloud-object-storage",
              "notes": "[Optional] Required to deploy Cloud automation for Object Storage."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Configured to use IBM secure-by-default standards, but can be edited to fit your use case."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Watson Discovery on IBM Cloud",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-watsonx-discovery/main/reference-architectures/deployable-architecture-watson-discovery.svg",
                  "type": "image/svg+xml"
                },
                "description": "This deployable architecture provisions a Watson Discovery instance on IBM Cloud, with optional tools to support enterprise-grade requirements.<br><br>After the instance is created, you receive access to the Discovery dashboard, where you can begin connecting data sources and building AI-powered search projects. <br><br>Optionally, you can deploy IBM Cloud observability resources. Cloud automation for Observability provides robust monitoring and logging capabilities to deliver deep operational insights into your Watson Discovery deployment. You can use IBM Cloud Activity Tracker Event Routing to monitor how users and applications interact with Watson Discovery, supporting compliance and auditability. Enable IBM Cloud Logs to collect, view, and analyze platform logs related to key Watson Discovery components. While IBM Cloud Monitoring captures essential metrics such as CPU and memory usage, helping you proactively monitor system performance and resource consumption."
              }
            ]
          },
          "configuration": [
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true,
              "default_value": "dev",
              "random_string": {
                "length": 4
              },
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "Prefix must begin with a lowercase letter and may contain only lowercase letters, digits, and hyphens '-'. It must not end with a hyphen('-'), and cannot contain consecutive hyphens ('--'). It should not exceed 16 characters.",
                  "value": "^$|^__NULL__$|^[a-z](?!.*--)(?:[a-z0-9-]{0,14}[a-z0-9])?$"
                }
              ]
            },
            {
              "key": "region",
              "required": true,
              "options": [
                {
                  "displayname": "Dallas (us-south)",
                  "value": "us-south"
                },
                {
                  "displayname": "Frankfurt (eu-de)",
                  "value": "eu-de"
                },
                {
                  "displayname": "London (eu-gb)",
                  "value": "eu-gb"
                },
                {
                  "displayname": "Sydney (au-syd)",
                  "value": "au-syd"
                },
                {
                  "displayname": "Tokyo (jp-tok)",
                  "value": "jp-tok"
                },
                {
                  "displayname": "Washington DC (us-east)",
                  "value": "us-east"
                }
              ]
            },
            {
              "key": "service_plan",
              "options": [
                {
                  "displayname": "Plus",
                  "value": "plus"
                },
                {
                  "displayname": "Enterprise",
                  "value": "enterprise"
                }
              ]
            },
            {
              "key": "enable_platform_metrics",
              "type": "boolean",
              "default_value": false,
              "description": "When set to `true`, the IBM Cloud Monitoring instance is configured to collect platform metrics from the specified region. You can configure only one instance of the IBM Cloud Monitoring service per region to collect platform metrics in that location. Check with the account or service administrator if another monitoring instance is already configured. You might not have permissions to see all monitoring instances in the region. [Learn more](https://cloud.ibm.com/docs/monitoring?topic=monitoring-platform_metrics_enabling).",
              "required": true,
              "virtual": true,
              "options": [
                {
                  "displayname": "true",
                  "value": true
                },
                {
                  "displayname": "false",
                  "value": false
                }
              ]
            },
            {
              "key": "logs_routing_tenant_regions",
              "type": "array",
              "default_value": [],
              "description": "To manage platform logs that are generated by IBM Cloud services in a region of IBM Cloud, you must create a tenant in each region that you operate. Pass a list of regions to create a tenant in. [Learn more](https://cloud.ibm.com/docs/logs-router?topic=logs-router-about-platform-logs).",
              "required": true,
              "virtual": true,
              "custom_config": {
                "type": "array",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "existing_resource_group_name",
              "display_name": "resource_group",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              },
              "default_value": "Default",
              "description": "The name of an existing resource group to provision the resources. [Learn more](https://cloud.ibm.com/docs/account?topic=account-rgs&interface=ui#create_rgs) about how to create a resource group."
            },
            {
              "key": "provider_visibility",
              "options": [
                {
                  "displayname": "private",
                  "value": "private"
                },
                {
                  "displayname": "public",
                  "value": "public"
                },
                {
                  "displayname": "public-and-private",
                  "value": "public-and-private"
                }
              ],
              "hidden": true
            },
            {
              "key": "watson_discovery_instance_name"
            },
            {
              "key": "resource_tags",
              "custom_config": {
                "type": "array",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "access_tags",
              "custom_config": {
                "type": "array",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "service_endpoints",
              "options": [
                {
                  "displayname": "Public Network",
                  "value": "public"
                },
                {
                  "displayname": "Private Network",
                  "value": "private"
                },
                {
                  "displayname": "Both Public & Private Network",
                  "value": "public-and-private"
                }
              ]
            }
          ],
          "dependencies": [
            {
              "name": "deploy-arch-ibm-cloud-monitoring",
              "description": "Configure IBM Cloud Monitoring to collect the platform metrics.",
              "flavors": [
                "fully-configurable"
              ],
              "id": "73debdbf-894f-4c14-81c7-5ece3a70b67d-global",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "input_mapping": [
                {
                  "dependency_output": "cloud_monitoring_crn",
                  "version_input": "existing_monitoring_crn"
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "enable_platform_metrics",
                  "version_input": "enable_platform_metrics",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                }
              ],
              "optional": true,
              "on_by_default": true,
              "version": "v1.9.0"
            },
            {
              "name": "deploy-arch-ibm-cloud-logs",
              "description": "Configure IBM Cloud Logs to analyse the platform logs.",
              "flavors": [
                "fully-configurable"
              ],
              "id": "63d8ae58-fbf3-41ce-b844-0fb5b85882ab-global",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "logs_routing_tenant_regions",
                  "version_input": "logs_routing_tenant_regions",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                }
              ],
              "optional": true,
              "on_by_default": true,
              "version": "v1.9.0"
            },
            {
              "name": "deploy-arch-ibm-activity-tracker",
              "description": "Configure Activity Tracker Event Routing to route the auditing events.",
              "flavors": [
                "fully-configurable"
              ],
              "id": "918453c3-4f97-4583-8c4a-83ef12fc7916-global",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                }
              ],
              "optional": true,
              "on_by_default": true,
              "version": "v1.4.3"
            },
            {
              "name": "deploy-arch-ibm-scc-workload-protection",
              "description": "Configure an IBM Cloud Security and Compliance Center Workload Protection instance to help you manage security and compliance for your organization.",
              "flavors": [
                "fully-configurable"
              ],
              "id": "4322cf44-2289-49aa-a719-dd79e39b14dc-global",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                }
              ],
              "optional": true,
              "on_by_default": true,
              "version": "v1.14.0"
            }
          ],
          "dependency_version_2": true,
          "terraform_version": "1.10.5"
        }
      ]
    }
  ]
}
